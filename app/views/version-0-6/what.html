
{% extends "layout.html" %}

{% block pageTitle %}
  Churchill | Find data about a local area
{% endblock %}

{% block content %}

<div class="top-alignment-correct">
    <div class="govuk-phase-banner">
        <p class="govuk-phase-banner__content"><strong class="govuk-tag govuk-phase-banner__content__tag ">
        beta
      </strong>
          <span class="govuk-phase-banner__text">
            This is a new service â€“ your
            <a class="govuk-link" href="#">feedback</a> will help us to improve it.
          </span>
        </p>
      </div>

      {{ govukBackLink({
        text: "Back",
        href: "where-2.html"
      }) }}
   </div>

  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">

      <span class="govuk-caption-xl">Find data about a local area</span>   
      <h1 class="govuk-heading-xl">What data to measure</h1> 
    </div>
    </div>

    <div class="govuk-grid-row">
      <div class="govuk-grid-column-two-thirds">

      {{ govukSelect({
        id: "measure-select",
        classes: "measure-select",
        name: "measure-select",
        label: {
          text: "What type of data would you like to measure?",
          classes: "govuk-label--m"
        },
        items: [
          {
            value: "-",
            text: "Please select",
            selected: true
          },
          {
            value: "active-enterprises",
            text: "Active Enterprises"
          },
          {
            value: "attendance-allowance",
            text: "Attendance Allowance"
          },
          {
            value: "carers-allowance",
            text: "Carers Allowance"
          },
          {
            value: "claimant-count",
            text: "Claimant Count"
          }
        ]
      }) }}

      <div class="govuk-radios__conditional" id="conditional-display" style="display: none;">
          {{ govukRadios({
            idPrefix: "metric",
            name: "metric",
            fieldset: {
              legend: {
                text: "How would you like to view this data?"
              }
            },
            items: [
              {
                value: "average-amount",
                text: "Average weekly amount of Carers Allowance"
              },
              {
                value: "number-entitled",
                text: "Number of people entitled to Carers Allownace"
              },
              {
                value: "number-in-reciept",
                text: "Number of people in reciept of Carers Allownace"
              }
            ]
          }) }}

          {{ govukSelect({
            id: "data-list",
            name: "data-list",
            label: {
              text: "What age group would you like to see data for?"
            },
            items: [
              {
                value: "-",
                text: "Please select",
                selected: true
              },
              {
                value: "under-18",
                text: "Under 18"
              },
              {
                value: "18-to-24",
                text: "18 to 24"
              },
              {
                value: "25-to-29",
                text: "25 to 29"
              },
              {
                value: "30-to-34",
                text: "30 to 34"
              },
              {
                value: "35-to-39",
                text: "35 to 39"
              },
              {
                value: "40-to-44",
                text: "40 to 44"
              },
              {
                value: "45-to-49",
                text: "45 to 49"
              },
              {
                value: "50-to-54",
                text: "50 to 54"
              },
              {
                value: "55-to-59",
                text: "55 to 59"
              },
              {
                value: "60-to-64",
                text: "60 to 64"
              },
              {
                value: "over-64",
                text: "Over 64"
              },
              {
                value: "unknown",
                text: "Unknown"
              }
            ]
          }) }}

          {{ govukRadios({
            idPrefix: "gender",
            name: "gender",
            fieldset: {
              legend: {
                text: "What sex would you like to see data for?"
              }
            },
            hint: {
              text: "The data set is historically divided by binary sex rather than gender"
            },
            items: [
              {
                value: "male",
                text: "Male"
              },
              {
                value: "female",
                text: "Female"
              },
              {
                divider: "or"
              },
              {
                value: "both",
                text: "Both"
              }
            ]
          }) }}
      </div>

      {% set rangeHtml %}
        {{ govukDateInput({
          id: "range-from",
          name: "range-from",
          fieldset: {
            legend: {
              text: "When would you like to measure from?"
            }
          },
          hint: {
            text: "For example, 3 1980"
          },
          items: [
            {
              name: "month"
            },
            {
              name: "year"
            }
          ]
        }) }}

        {{ govukDateInput({
          id: "range-to",
          name: "range-to",
          fieldset: {
            legend: {
              text: "When would you like to measure to?"
            }
          },
          hint: {
            text: "For example, 3 1980"
          },
          items: [
            
            {
              name: "month"
            },
            {
              name: "year"
            }
          ]
        }) }}
      {% endset -%}

      {% set snapshotHtml %}
          {{ govukDateInput({
            id: "snapshot-date",
            name: "snapshot-date",
            fieldset: {
              legend: {
                text: "What date would you like to view data for?"
              }
            },
            hint: {
              text: "For example, 3 1980"
            },
            items: [
              
              {
                name: "month"
              },
              {
                name: "year"
              }
            ]
          }) }}
      {% endset -%}


      {{ govukRadios({
        idPrefix: "when-choice",
        name: "when-choice",
        fieldset: {
          legend: {
            text: "When would you like to view this data for?",
            classes: "govuk-label--m"
          }
        },
        items: [
          {
            value: "time-period",
            text: "Show data over a period of time",
            conditional: {
              html: rangeHtml
            }
          },
          {
            value: "specific-date",
            text: "Show data at a specific date",
            conditional: {
              html: snapshotHtml
            }
          }
        ]
      }) }}

      {{ govukRadios({
        classes: "govuk-radios--inline",
        idPrefix: "add-more-datatypes",
        name: "add-more-datatypes",
        fieldset: {
          legend: {
            text: "Would you like to compare this to another type of data?",
            classes: "govuk-label--m"
          }
        },
        hint: {
          text: "This will help you to look at possible cause and effect relationships."
        },
        items: [
          {
            value: "yes",
            text: "Yes"
          },
          {
            value: "no",
            text: "No"
          }
        ]
      }) }}

      <a href="#" class="govuk-button" id="continue-button">
          Continue
        </a>
      
        <script type="text/javascript">
          document.getElementById("add-more-datatypes-1").onclick = function () {
            document.getElementById("continue-button").href="what-loop.html"; 
          }
      
          document.getElementById("add-more-datatypes-2").onclick = function() {
            document.getElementById("continue-button").href="churchill-main.html"; 
          };
      </script>

    </div>
    <div class="govuk-grid-column-one-third">
        
    </div>
</div>

<script type="text/javascript" >
  document.getElementById('measure-select').addEventListener('change', function () {
      var style = this.value == 'carers-allowance' ? 'block' : 'none';
      document.getElementById('conditional-display').style.display = style;
  });
</script>
  
{% endblock %}

