
{% extends "layout.html" %}

{% block pageTitle %}
  Churchill | Find data about a local area
{% endblock %}

{% block content %}

<div class="top-alignment-correct">
    <div class="govuk-phase-banner">
        <p class="govuk-phase-banner__content"><strong class="govuk-tag govuk-phase-banner__content__tag ">
        beta
      </strong>
          <span class="govuk-phase-banner__text">
            This is a new service â€“ your
            <a class="govuk-link" href="#">feedback</a> will help us to improve it.
          </span>
        </p>
      </div>

      {{ govukBackLink({
        text: "Back",
        href: "where-2.html"
      }) }}
   </div>

  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">

      <h1 class="govuk-heading-xl">What data to measure</h1> 
    </div>
    </div>

    <div class="govuk-grid-row">
      <div class="govuk-grid-column-two-thirds">

          <form method="post" class="form">

              <script src="../../public/javascripts/jquery-1.11.1.min.js" type="text/javascript"></script>
              <script src="../../public/javascripts/jquery.select-to-autocomplete.js" type="text/javascript"></script>
              <script src="../../public/javascripts/jquery-ui.min.js" type="text/javascript"></script>

        <div class="govuk-form-group">
            <label class="govuk-label--m" for="what-select" >What would you like to find out about?</label>  
            <select class="govuk-select js-example-basic-single" id="what-select" name="what-select" autofocus="autofocus" autocorrect="off" autocomplete="off"> 
              <option value=""></option>
              <option value="active-enterprises">Active enterprises</option>
              <option value="active-enterprises">Attendance allowance</option>
              <option value="carers-allowance">Carer's allowance</option>
              <option value="active-enterprises">Claimant count</option>
            </select>
          </div>     


      <div class="govuk-radios__conditional" id="conditional-display" style="display: none;">
        {{ govukSelect({
            id: "metric",
            name: "metric",
            label: {
                text: "What would you like to know about Carer's Allowance?",
                classes: "govuk-label--s"
            },
            items: [
            {
              value: "-",
              text: "Please select"
            },
            {
                value: "average-amount",
                text: "Average weekly amount of Carers Allowance"
              },
              {
                value: "number-entitled",
                text: "Number of people entitled to Carers Allownace"
              },
              {
                value: "number-in-reciept",
                text: "Number of people in reciept of Carers Allownace"
              }
            ]
          }) }}

          {{ govukSelect({
            id: "data-list",
            name: "data-list",
            label: {
              text: "What age group would you like to see data for?",
              classes: "govuk-label--s"
            },
            items: [
              {
                value: "-",
                text: "All age groups",
                selected: true
              },
              {
                value: "under-18",
                text: "Under 18"
              },
              {
                value: "18-to-24",
                text: "18 to 24"
              },
              {
                value: "25-to-29",
                text: "25 to 29"
              },
              {
                value: "30-to-34",
                text: "30 to 34"
              },
              {
                value: "35-to-39",
                text: "35 to 39"
              },
              {
                value: "40-to-44",
                text: "40 to 44"
              },
              {
                value: "45-to-49",
                text: "45 to 49"
              },
              {
                value: "50-to-54",
                text: "50 to 54"
              },
              {
                value: "55-to-59",
                text: "55 to 59"
              },
              {
                value: "60-to-64",
                text: "60 to 64"
              },
              {
                value: "over-64",
                text: "Over 64"
              },
              {
                value: "unknown",
                text: "Unknown"
              }
            ]
          }) }}

          {{ govukRadios({
            idPrefix: "gender",
            name: "gender",
            fieldset: {
              legend: {
                text: "What sex would you like to see data for?",
                classes: "govuk-label--s"
              }
            },
            hint: {
              text: "The data set is historically divided by binary sex rather than gender."
            },
            items: [
              {
                value: "male",
                text: "Male"
              },
              {
                value: "female",
                text: "Female"
              },
              {
                divider: "or"
              },
              {
                value: "all",
                text: "All",
                hint: {
                  text: "This will show a combined value"
                }
              }
            ]
          }) }}
      </div>

      {% set rangeHtml %}
      <div class="govuk-form-group">
          <fieldset class="govuk-fieldset" aria-describedby="snapshot-date-hint" role="group">
            
            <legend class="govuk-fieldset__legend govuk-label--s">
              When would you like to measure from?
            </legend>
                      
            <div class="govuk-date-input" id="snapshot-date">

              <div class="govuk-date-input__item">
                <div class="govuk-form-group">
                  <label class="govuk-label govuk-date-input__label" for="snapshot-date-year">
                    Year
                  </label>
                
                  <select class="govuk-select govuk-date-input__input govuk-input--width-4 " id="snapshot-date-year" name="snapshot-date-year" type="number" pattern="[0-9]*">
                    <option>2007</option>
                    <option>2008</option> 
                    <option>2009</option> 
                    <option>2010</option> 
                    <option>2011</option> 
                    <option>2012</option> 
                    <option>2013</option> 
                    <option>2014</option> 
                    <option>2015</option> 
                    <option>2016</option> 
                    <option>2017</option>   
                  </select>
                </div>
              </div>

              <div class="govuk-date-input__item">
                  <div class="govuk-form-group">
                    <label class="govuk-label govuk-date-input__label" for="snapshot-date-month">
                      Month
                    </label>
                  
                    <select class="govuk-select govuk-date-input__input govuk-input--width-10 " id="snapshot-date-month" name="snapshot-date-month" type="number" pattern="[0-9]*">
                      <option>February</option> 
                      <option selected>May</option>  
                      <option>August</option>  
                      <option>November</option>   
                    </select>
                  </div>
                </div>
            
            </div>
            </fieldset>
          
          
          </div>

        <div class="govuk-form-group">
            <fieldset class="govuk-fieldset" aria-describedby="snapshot-date-hint" role="group">
              
              <legend class="govuk-fieldset__legend govuk-label--s">
                When would you like to measure to?
              </legend>
                        
              <div class="govuk-date-input" id="snapshot-date">
  
                <div class="govuk-date-input__item">
                  <div class="govuk-form-group">
                    <label class="govuk-label govuk-date-input__label" for="snapshot-date-year">
                      Year
                    </label>
                  
                    <select class="govuk-select govuk-date-input__input govuk-input--width-4 " id="snapshot-date-year" name="snapshot-date-year" type="number" pattern="[0-9]*">
                      <option>2007</option>
                      <option>2008</option> 
                      <option>2009</option> 
                      <option>2010</option> 
                      <option>2011</option> 
                      <option>2012</option> 
                      <option>2013</option> 
                      <option>2014</option> 
                      <option>2015</option> 
                      <option>2016</option> 
                      <option>2017</option>   
                    </select>
                  </div>
                </div>
  
                <div class="govuk-date-input__item">
                    <div class="govuk-form-group">
                      <label class="govuk-label govuk-date-input__label" for="snapshot-date-month">
                        Month
                      </label>
                    
                      <select class="govuk-select govuk-date-input__input govuk-input--width-10 " id="snapshot-date-month" name="snapshot-date-month" type="number" pattern="[0-9]*">
                        <option>February</option> 
                        <option selected>May</option>  
                        <option>August</option>  
                        <option>November</option>   
                      </select>
                    </div>
                  </div>
              
              </div>
              </fieldset>
            
            
            </div>
      {% endset -%}

      {% set snapshotHtml %}
      <div class="govuk-form-group">
          <fieldset class="govuk-fieldset" aria-describedby="snapshot-date-hint" role="group">
            
            <legend class="govuk-fieldset__legend govuk-label--s">
              What date would you like to view data for?
            </legend>
                      
            <div class="govuk-date-input" id="snapshot-date">

              <div class="govuk-date-input__item">
                <div class="govuk-form-group">
                  <label class="govuk-label govuk-date-input__label" for="snapshot-date-year">
                    Year
                  </label>
                
                  <select class="govuk-select govuk-date-input__input govuk-input--width-4 " id="snapshot-date-year" name="snapshot-date-year" type="number" pattern="[0-9]*">
                    <option>2007</option>
                    <option>2008</option> 
                    <option>2009</option> 
                    <option>2010</option> 
                    <option>2011</option> 
                    <option>2012</option> 
                    <option>2013</option> 
                    <option>2014</option> 
                    <option>2015</option> 
                    <option>2016</option> 
                    <option>2017</option>   
                  </select>
                </div>
              </div>

              <div class="govuk-date-input__item">
                  <div class="govuk-form-group">
                    <label class="govuk-label govuk-date-input__label" for="snapshot-date-month">
                      Month
                    </label>
                  
                    <select class="govuk-select govuk-date-input__input govuk-input--width-10 " id="snapshot-date-month" name="snapshot-date-month" type="number" pattern="[0-9]*">
                      <option>February</option> 
                      <option selected>May</option>  
                      <option>August</option>  
                      <option>November</option>   
                    </select>
                  </div>
                </div>
            
            </div>
            </fieldset>
          
          
          </div>
      {% endset -%}


      {{ govukRadios({
        idPrefix: "when-choice",
        name: "when-choice",
        fieldset: {
          legend: {
            text: "When would you like to view this data for?",
            classes: "govuk-label--m"
          }
        },
        items: [
          {
            value: "time-period",
            text: "Show data over a period of time",
            conditional: {
              html: rangeHtml
            }
          },
          {
            value: "specific-date",
            text: "Show data at a specific date",
            conditional: {
              html: snapshotHtml
            }
          }
        ]
      }) }}

      {{ govukRadios({
        classes: "govuk-radios--inline",
        idPrefix: "add-more-datatypes",
        name: "add-more-datatypes",
        fieldset: {
          legend: {
            text: "Would you like to compare this to another type of data?",
            classes: "govuk-label--m"
          }
        },
        hint: {
          text: "This will help you to look at possible cause and effect relationships."
        },
        items: [
          {
            value: "yes",
            text: "Yes"
          },
          {
            value: "no",
            text: "No"
          }
        ]
      }) }}

      <button class="govuk-button">Continue</button>

      </form>

    </div>
    <div class="govuk-grid-column-one-third">
        <table class="govuk-table govuk-!-margin-bottom-2">
            <caption class="govuk-table__caption govuk-heading-m">Where you&#39;ve chosen</caption>
            <tbody class="govuk-table__body">
              <tr class="govuk-table__row">
                <td class="govuk-table__cell"></div>{{ data['where_1'] }}</td>
                <td class="govuk-table__cell "><a href="#" class="right">Remove</a></td>
              </tr>
            </tbody>
          </table>
        <p class="govuk-!-margin-bottom-7"><a href="#" class="govuk-!-margin-bottom-6">Add another area</a></p>
    </div>
</div>
  
{% endblock %}

{% block pageScripts %}
<script type="text/javascript" >

  accessibleAutocomplete.enhanceSelectElement({
    selectElement: document.querySelector('#what-select')
  })

  document.getElementById('what-select').addEventListener('change', function () {
      document.getElementById('conditional-display').style.display = 'block';
  });

</script>
{% endblock %}